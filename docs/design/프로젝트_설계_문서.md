# Upbit DCA 자동매매 프로그램 설계 문서

## 프로젝트 개요

### 1.1 프로젝트 목표
바이낸스 선물 DCA 봇을 기반으로 Upbit 현물 거래용 자동매매 프로그램 개발
- **원본**: 바이낸스 USDT 선물 자동 DCA 트레이딩 봇 (롱/숏 전략)
- **목표**: Upbit KRW 현물 자동 DCA 트레이딩 봇 (매수 전략)

### 1.2 핵심 기능
1. **DCA (Dollar Cost Averaging) 전략**
   - 가격 하락 시 자동 물타기
   - 설정 가능한 진입 간격 및 배수
   
2. **다중 진입 전략**
   - 5가지 기술적 지표 조합
   - 사용자가 선택 가능한 전략

3. **자동 거래 실행**
   - 실시간 시세 모니터링
   - 조건 만족 시 자동 매수/매도

4. **다크 테마 GUI**
   - PySide6 기반 직관적인 인터페이스
   - 실시간 포지션 및 수익률 표시

### 1.3 주요 차이점 (Binance vs Upbit)

| 기능 | Binance Futures (원본) | Upbit Spot (개발 대상) |
|-----|----------------------|----------------------|
| 거래 타입 | 선물 (롱/숏) | 현물 (매수만) |
| 레버리지 | 지원 | 미지원 |
| 마켓 코드 | BTCUSDT | KRW-BTC |
| API 인증 | HMAC SHA256 | JWT + HMAC SHA512 |
| 주문 타입 | LIMIT, MARKET, STOP 등 | limit, market, price, best |
| 포지션 관리 | 롱/숏 포지션 | 보유 수량만 |

---

## 2. 시스템 아키텍처

### 2.1 전체 구조

```
┌─────────────────────────────────────────────────┐
│              GUI Layer (PySide6)                │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐      │
│  │ 설정 패널 │  │ 거래 패널 │  │ 로그 패널 │      │
│  └──────────┘  └──────────┘  └──────────┘      │
└─────────────────────────────────────────────────┘
                    ↕
┌─────────────────────────────────────────────────┐
│           Business Logic Layer                  │
│  ┌──────────────┐    ┌─────────────────┐       │
│  │ AutoTrader   │────│ StrategyEngine  │       │
│  │ (Main Logic) │    │ (Entry Logic)   │       │
│  └──────────────┘    └─────────────────┘       │
│         │                     │                 │
│  ┌──────────────┐    ┌─────────────────┐       │
│  │ PositionMgr  │    │ IndicatorCalc   │       │
│  │ (DCA Logic)  │    │ (RSI/MACD/MA)   │       │
│  └──────────────┘    └─────────────────┘       │
└─────────────────────────────────────────────────┘
                    ↕
┌─────────────────────────────────────────────────┐
│            API Layer (UpbitAPI)                 │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐      │
│  │ 인증     │  │ 주문     │  │ 시세     │      │
│  └──────────┘  └──────────┘  └──────────┘      │
└─────────────────────────────────────────────────┘
                    ↕
             Upbit REST API
```

### 2.2 핵심 클래스 구조

```python
# 1. API Layer
class UpbitAPI:
    - get_accounts()          # 계좌 조회
    - get_candles()          # 캔들 데이터
    - get_current_price()    # 현재가
    - place_order()          # 주문
    - cancel_order()         # 취소
    - get_order_status()     # 주문 상태

# 2. 지표 계산
class TechnicalIndicators:
    - calculate_rsi()        # RSI 계산
    - calculate_macd()       # MACD 계산
    - calculate_ma()         # 이동평균 계산
    - calculate_bb()         # 볼린저밴드 계산
    - check_volume_surge()   # 거래량 급증 확인

# 3. 전략 엔진
class StrategyEngine:
    - check_macd_rsi()       # 전략 1: MACD + RSI
    - check_ma_rsi()         # 전략 2: MA + RSI
    - check_triple()         # 전략 3: RSI + MACD + BB
    - check_ma_macd()        # 전략 4: MA + MACD
    - check_volume_combo()   # 전략 5: Volume + RSI + MA

# 4. 포지션 관리
class PositionManager:
    - calculate_entry_price()    # DCA 진입가 계산
    - calculate_next_amount()    # 다음 매수량 계산
    - check_exit_condition()     # 청산 조건 확인
    - update_position()          # 포지션 업데이트

# 5. 자동 거래 워커
class AutoTradeWorker(QThread):
    - run()                  # 메인 루프
    - execute_strategy()     # 전략 실행
    - place_entry_order()    # 진입 주문
    - place_exit_order()     # 청산 주문
    - log_trade()            # 거래 로그

# 6. GUI 메인 윈도우
class MainWindow(QMainWindow):
    - setup_ui()             # UI 초기화
    - start_trading()        # 거래 시작
    - stop_trading()         # 거래 중지
    - update_display()       # 화면 갱신
```

---

## 3. 진입 전략 상세

### 3.1 전략 1: MACD + RSI 조합
- **조건**:
  - MACD 골든크로스 (MACD > Signal)
  - RSI < 40 (과매도 구간)
- **설명**: 추세 전환 + 과매도 구간에서 매수

### 3.2 전략 2: 이동평균 + RSI
- **조건**:
  - 현재가 < MA20 (단기 이평선 하단)
  - RSI < 35 (강한 과매도)
- **설명**: 조정 후 반등 시점 포착

### 3.3 전략 3: 트리플 조합 (RSI + MACD + 볼린저밴드)
- **조건**:
  - RSI < 30 (강한 과매도)
  - MACD < Signal (약세)
  - 현재가 < 볼린저 하단 (과매도 확인)
- **설명**: 다중 지표로 과매도 확정 시 매수

### 3.4 전략 4: 이동평균 + MACD
- **조건**:
  - 현재가가 MA50 상향 돌파
  - MACD 상승 중 (MACD > MACD[-1])
- **설명**: 중기 추세 전환 포착

### 3.5 전략 5: 거래량 + RSI + 이동평균
- **조건**:
  - 거래량이 평균의 1.5배 이상
  - RSI < 45 (중간 과매도)
  - 현재가 > MA5 (단기 반등)
- **설명**: 거래량 급증 + 반등 시점 포착

---

## 4. DCA 로직 상세

### 4.1 DCA 파라미터

```python
@dataclass
class DCAConfig:
    symbol: str = "KRW-BTC"           # 거래 코인
    base_amount: float = 10000.0      # 기본 투자 금액 (원)
    dca_ratio: float = 2.0            # DCA 배수 (2배씩 증가)
    dca_interval: float = 2.0         # DCA 간격 (2% 하락마다)
    max_dca_count: int = 5            # 최대 DCA 횟수
    profit_target: float = 1.0        # 목표 수익률 (%)
    stop_loss: float = -10.0          # 손절 기준 (%)
    daily_loss_limit: float = -5.0    # 일일 손실 한도 (%)
```

### 4.2 DCA 계산 예시

초기 투자: 10,000원
DCA 비율: 2.0
DCA 간격: 2.0%

| 회차 | 진입 가격 | 투자 금액 | 누적 투자 | 평균 단가 |
|-----|---------|---------|---------|---------|
| 1   | 50,000  | 10,000  | 10,000  | 50,000  |
| 2   | 49,000 (-2%) | 20,000 | 30,000 | 49,333 |
| 3   | 48,020 (-2%) | 40,000 | 70,000 | 48,527 |
| 4   | 47,060 (-2%) | 80,000 | 150,000 | 47,785 |
| 5   | 46,119 (-2%) | 160,000 | 310,000 | 47,287 |

**청산 조건**: 
- 현재가 > 평균 단가 * (1 + profit_target/100)
- 예: 평균단가 47,287원 → 청산가 47,760원 (1% 수익)

### 4.3 포지션 관리 로직

```python
class Position:
    def __init__(self):
        self.is_active = False
        self.entries = []  # [(price, amount, timestamp), ...]
        self.total_amount = 0.0
        self.total_invested = 0.0
        self.avg_price = 0.0
        self.dca_count = 0
        
    def add_entry(self, price, amount, timestamp):
        """DCA 추가 매수"""
        self.entries.append((price, amount, timestamp))
        self.total_amount += amount
        self.total_invested += price * amount
        self.avg_price = self.total_invested / self.total_amount
        self.dca_count += 1
        
    def check_exit_condition(self, current_price, config):
        """청산 조건 체크"""
        if not self.is_active:
            return False
            
        # 수익 목표 달성
        profit_rate = (current_price - self.avg_price) / self.avg_price * 100
        if profit_rate >= config.profit_target:
            return True
            
        # 손절
        if profit_rate <= config.stop_loss:
            return True
            
        return False
        
    def calculate_next_entry_price(self, config):
        """다음 DCA 진입가 계산"""
        if not self.entries:
            return None
        last_price = self.entries[-1][0]
        return last_price * (1 - config.dca_interval / 100)
        
    def calculate_next_amount(self, config):
        """다음 DCA 수량 계산"""
        if self.dca_count >= config.max_dca_count:
            return 0.0
        return config.base_amount * (config.dca_ratio ** self.dca_count)
```

---

## 5. UI 설계

### 5.1 다크 테마 색상 팔레트

```python
DARK_THEME = {
    'background': '#1e1e1e',      # 메인 배경
    'surface': '#2d2d2d',         # 패널 배경
    'primary': '#00d4aa',         # 주요 버튼 (청록색)
    'danger': '#ff4444',          # 위험 버튼 (빨강)
    'success': '#00cc88',         # 성공 표시 (녹색)
    'text_primary': '#ffffff',    # 주요 텍스트
    'text_secondary': '#a0a0a0',  # 보조 텍스트
    'border': '#404040',          # 경계선
    'profit': '#4caf50',          # 수익 (녹색)
    'loss': '#f44336',            # 손실 (빨강)
}
```

### 5.2 메인 윈도우 레이아웃

```
┌──────────────────────────────────────────────────┐
│  Upbit DCA 자동매매 프로그램         [_][□][X]    │
├──────────────────────────────────────────────────┤
│                                                  │
│  ┌─ API 설정 ───────────────────────────────┐    │
│  │ Access Key: [████████████████████████]   │    │
│  │ Secret Key: [████████████████████████]   │    │
│  │ [연결 테스트] [저장]                     │    │
│  └──────────────────────────────────────────┘    │
│                                                  │
│  ┌─ 거래 설정 ───────────────────────────────┐    │
│  │ 거래 코인: [KRW-BTC        ▼]            │    │
│  │ 기본 금액: [10000      ] 원              │    │
│  │ DCA 배수:  [2.0        ] 배              │    │
│  │ DCA 간격:  [2.0        ] %               │    │
│  │ 최대 횟수:  [5          ] 회              │    │
│  │ 목표 수익: [1.0        ] %               │    │
│  │ 손절 기준: [-10.0      ] %               │    │
│  │                                          │    │
│  │ 진입 전략: [MACD + RSI                ▼]  │    │
│  │   • 추세 전환 + 과매도 구간에서 매수       │    │
│  └──────────────────────────────────────────┘    │
│                                                  │
│  ┌─ 현재 포지션 ─────────────────────────────┐    │
│  │ 상태: [대기 중]                           │    │
│  │ 코인: -                                   │    │
│  │ 평균 단가: -                              │    │
│  │ 보유 수량: -                              │    │
│  │ 투자 금액: -                              │    │
│  │ 현재 가격: -                              │    │
│  │ 평가 금액: -                              │    │
│  │ 수익률: -                                 │    │
│  │ DCA 횟수: 0 / 5                           │    │
│  └──────────────────────────────────────────┘    │
│                                                  │
│  [거래 시작]  [거래 중지]  [전체 청산]           │
│                                                  │
│  ┌─ 거래 로그 ───────────────────────────────┐    │
│  │ 2024-01-15 10:30:25 | 매수 | BTC | ... │    │
│  │ 2024-01-15 10:35:10 | DCA2 | BTC | ... │    │
│  │ 2024-01-15 10:40:55 | 매도 | BTC | ... │    │
│  │                                          │    │
│  └──────────────────────────────────────────┘    │
└──────────────────────────────────────────────────┘
```

### 5.3 주요 UI 컴포넌트

```python
class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        self.setWindowTitle("Upbit DCA 자동매매 프로그램")
        self.setGeometry(100, 100, 800, 900)
        self.apply_dark_theme()
        
        # 메인 위젯
        main_widget = QWidget()
        self.setCentralWidget(main_widget)
        layout = QVBoxLayout(main_widget)
        
        # API 설정 그룹
        self.api_group = self.create_api_group()
        layout.addWidget(self.api_group)
        
        # 거래 설정 그룹
        self.config_group = self.create_config_group()
        layout.addWidget(self.config_group)
        
        # 포지션 표시 그룹
        self.position_group = self.create_position_group()
        layout.addWidget(self.position_group)
        
        # 컨트롤 버튼
        self.control_layout = self.create_control_buttons()
        layout.addLayout(self.control_layout)
        
        # 로그 테이블
        self.log_table = self.create_log_table()
        layout.addWidget(self.log_table)
        
    def apply_dark_theme(self):
        """다크 테마 적용"""
        palette = QPalette()
        palette.setColor(QPalette.Window, QColor(DARK_THEME['background']))
        palette.setColor(QPalette.WindowText, QColor(DARK_THEME['text_primary']))
        palette.setColor(QPalette.Base, QColor(DARK_THEME['surface']))
        palette.setColor(QPalette.Text, QColor(DARK_THEME['text_primary']))
        palette.setColor(QPalette.Button, QColor(DARK_THEME['surface']))
        palette.setColor(QPalette.ButtonText, QColor(DARK_THEME['text_primary']))
        self.setPalette(palette)
```

---

## 6. 파일 구조

```
upbit_dca_trader/
│
├── main.py                    # 메인 실행 파일 (GUI/CLI 선택)
├── config.py                  # 설정 관리
├── requirements.txt           # 의존성 패키지
├── start_bot.sh               # Watchdog 재시작 스크립트
│
├── api/
│   ├── __init__.py
│   └── upbit_api.py          # Upbit API 클라이언트
│
├── core/
│   ├── __init__.py
│   ├── indicators.py         # 기술적 지표 계산
│   ├── strategy.py           # 진입 전략 엔진
│   ├── position.py           # 포지션 관리
│   ├── trader.py             # 자동 거래 워커
│   ├── risk_manager.py       # 리스크 관리 ✅ 추가
│   ├── backtester.py         # 백테스팅 시스템 ✅ 추가
│   └── performance.py        # 성과 분석 ✅ 추가
│
├── gui/
│   ├── __init__.py
│   ├── main_window.py        # 메인 윈도우
│   ├── components.py         # 재사용 UI 컴포넌트
│   ├── styles.py             # 다크 테마 스타일
│   ├── wizard.py             # 첫 실행 설정 마법사 ✅ 추가
│   └── legal.py              # 법적 고지 및 약관 ✅ 추가
│
├── utils/
│   ├── __init__.py
│   ├── logger.py             # 로깅 유틸
│   ├── validator.py          # 입력 검증
│   ├── security.py           # API 키 암호화 ✅ 추가
│   ├── telegram_bot.py       # 텔레그램 알림 ✅ 추가
│   └── tax.py                # 세금 계산 ✅ 추가
│
└── data/
    ├── config.json           # 사용자 설정 저장 (암호화됨)
    ├── trades.db             # 거래 기록 (SQLite)
    ├── checkpoint.json       # 재시작 체크포인트 ✅ 추가
    └── candles/              # 캔들 데이터 캐시 ✅ 추가
```

---

## 7. 의존성 패키지

```txt
# requirements.txt
PySide6>=6.6.0              # GUI 프레임워크
requests>=2.31.0            # HTTP 클라이언트
PyJWT>=2.8.0                # JWT 인증
numpy>=1.24.0               # 수치 계산
pandas>=2.0.0               # 데이터 처리
python-dotenv>=1.0.0        # 환경 변수 관리
cryptography>=41.0.0        # API 키 암호화
keyring>=24.0.0             # 시스템 키체인 접근
python-telegram-bot>=20.0   # 텔레그램 봇
```

---

## 8. 개발 단계

### Phase 1: API 연동 + 보안 (2일) ⭐⭐⭐⭐⭐
- [x] Upbit API 분석 완료
- [ ] UpbitAPI 클래스 구현
- [ ] JWT 인증 구현
- [ ] **API 키 암호화 (cryptography + keyring)** ✅ 추가
- [ ] **Headless 모드 구현 (--headless 플래그)** ✅ 추가
- [ ] 계좌 조회, 주문 실행 테스트

### Phase 1.5: 백테스팅 시스템 (2-3일) ⭐⭐⭐⭐⭐ ✅ 새로 추가
**실거래 전 필수 검증 단계**
- [ ] 과거 캔들 데이터 수집 (6개월~1년)
- [ ] Backtester 클래스 구현
- [ ] 주문 체결 시뮬레이션 (슬리피지 포함)
- [ ] 성과 지표 계산 (Sharpe Ratio, MDD, 승률, Profit Factor)
- [ ] 5가지 전략 비교 분석
- [ ] GUI 백테스팅 패널
- [ ] 최적 파라미터 제안

### Phase 2: 지표 + 전략 (2일)
- [ ] TechnicalIndicators 클래스 구현
- [ ] RSI, MACD, MA, BB, Volume 계산
- [ ] 캔들 데이터 캐싱 구현
- [ ] StrategyEngine 클래스 구현
- [ ] 5가지 전략 로직 구현
- [ ] **전략 파라미터 설정 가능하게 변경** ✅ 수정

### Phase 3: 포지션 + 리스크 관리 (2일) ⭐⭐⭐⭐
- [ ] PositionManager 클래스 구현
- [ ] DCA 로직 구현
- [ ] **RiskManager 클래스 구현** ✅ 추가
  - [ ] 변동성 필터 (5분 내 ±5%)
  - [ ] 최대 투자 한도 (계좌의 50%)
  - [ ] 포지션 타임아웃 (24시간)
  - [ ] 거래량 확인
  - [ ] 긴급 중지 조건
- [ ] 진입/청산 조건 테스트

### Phase 4: 자동 거래 워커 + 에러 복구 (2일) ⭐⭐⭐⭐⭐
- [ ] AutoTradeWorker 스레드 구현
- [ ] 메인 거래 루프
- [ ] **에러 복구 시스템** ✅ 추가
  - [ ] 자동 재시도 (지수 백오프)
  - [ ] 상태 체크포인트 (checkpoint.json)
  - [ ] Watchdog 스크립트 (start_bot.sh)
  - [ ] 프로그램 시작 체크리스트
- [ ] Rate Limit 관리

### Phase 5: 텔레그램 알림 시스템 (1-2일) ⭐⭐⭐⭐ ✅ 새로 추가
**원격 모니터링 및 제어**
- [ ] TelegramNotifier 클래스
- [ ] 알림 기능
  - [ ] 거래 체결 알림 (매수/매도/DCA)
  - [ ] 에러 및 긴급 상황 알림
  - [ ] 일일 요약 리포트
- [ ] 원격 제어 명령어
  - [ ] /status - 현재 포지션 상태
  - [ ] /stats - 통계 조회
  - [ ] /stop - 거래 중지
  - [ ] /start - 거래 재개
- [ ] 설정 파일에 텔레그램 옵션 추가

### Phase 6: GUI + 사용자 가이드 (3일) ⭐⭐⭐
- [ ] MainWindow 기본 구조
- [ ] 다크 테마 적용
- [ ] API 설정 패널
- [ ] 거래 설정 패널
- [ ] 포지션 표시 패널
- [ ] 로그 테이블
- [ ] 실시간 업데이트
- [ ] **Setup Wizard (첫 실행)** ✅ 추가
  - [ ] 환영 및 소개
  - [ ] API 키 설정 가이드
  - [ ] 경험 수준 선택
  - [ ] 프리셋 선택 (초보자/중급자/공격적)
- [ ] **인터랙티브 툴팁** ✅ 추가
- [ ] **DCA 시뮬레이터** ✅ 추가

### Phase 7: 통합 + 통계 + 법적 사항 (3일) ⭐⭐⭐⭐
- [ ] 전체 시스템 통합
- [ ] **PerformanceAnalyzer 구현** ✅ 추가
  - [ ] 승률, MDD, Sharpe Ratio 계산
  - [ ] 전략별 성과 비교
  - [ ] 일일/주간/월간 통계
  - [ ] GUI 통계 패널
- [ ] **TaxCalculator 구현** ✅ 추가
  - [ ] 연간 세금 계산 (250만원 공제)
  - [ ] 거래 내역 Excel export
  - [ ] GUI 세금 정보 패널
- [ ] **법적 고지 및 약관 동의** ✅ 추가
- [ ] **VPS 배포 가이드 작성** ✅ 추가
- [ ] 실제 거래 테스트 (소액)
- [ ] 버그 수정 및 최적화
- [ ] 문서화 (README, 사용 가이드)

**총 예상 기간**: **17-19일** (기존 9-13일에서 증가)

**증가 이유**:
- Phase 1.5 백테스팅 시스템 추가 (2-3일)
- Phase 3 리스크 관리 강화 (+0.5일)
- Phase 4 에러 복구 시스템 (+0.5일)
- Phase 5 텔레그램 알림 시스템 추가 (1-2일)
- Phase 6 사용자 가이드 강화 (+0.5일)
- Phase 7 통계 및 법적 사항 추가 (+1일)

**추가 시간 투자 가치**:
- ⭐ 백테스팅으로 손실 위험 크게 감소
- ⭐ 에러 복구로 무인 운영 안정성 확보
- ⭐ 텔레그램으로 편의성 대폭 향상 (특히 VPS 운영 시)
- ⭐ 통계 시스템으로 지속적 개선 가능
- ⭐ 사용자 가이드로 진입 장벽 낮춤

---

## 9. 안전 기능

### 9.1 필수 안전 장치
1. **Rate Limit 관리**
   - 주문 API: 8 req/sec 준수
   - 시세 API: 600 req/min 준수
   - 에러 429 시 지수 백오프

2. **일일 손실 한도**
   - 일일 손실이 -5% 도달 시 자동 중지
   - 다음 날 자동 재시작

3. **API 키 보안**
   - 환경 변수 또는 암호화된 설정 파일
   - 메모리상에서만 복호화
   - GUI에는 마스킹 처리

4. **주문 확인**
   - 주문 후 상태 확인
   - 체결 실패 시 재시도 또는 취소

5. **긴급 중지**
   - GUI 중지 버튼
   - 전체 청산 버튼
   - 프로그램 종료 시 안전 종료

### 9.2 로깅 및 모니터링
```python
# 로깅 레벨
- DEBUG: 모든 API 호출 및 계산
- INFO: 주문 실행, DCA 진입, 청산
- WARNING: Rate Limit 임박, 설정 오류
- ERROR: API 오류, 주문 실패
- CRITICAL: 시스템 오류, 긴급 중지

# 로그 파일
- logs/trade_{date}.log: 거래 로그
- logs/error_{date}.log: 에러 로그
- logs/api_{date}.log: API 호출 로그
```

---

## 10. 테스트 계획

### 10.1 단위 테스트
```python
# tests/test_indicators.py
def test_rsi_calculation():
    """RSI 계산 정확도 테스트"""
    
def test_macd_calculation():
    """MACD 계산 정확도 테스트"""

# tests/test_strategy.py
def test_strategy_signals():
    """전략 신호 정확도 테스트"""

# tests/test_position.py
def test_dca_calculation():
    """DCA 계산 로직 테스트"""
    
def test_exit_conditions():
    """청산 조건 테스트"""
```

### 10.2 통합 테스트
1. API 연동 테스트 (실제 계좌, Read Only)
2. 소액 실거래 테스트 (1,000원)
3. DCA 시뮬레이션 (과거 데이터)
4. 24시간 연속 운영 테스트
5. 에러 복구 테스트

---

## 11. 향후 개선 사항 (Phase 2+)

### 11.1 Phase 2 우선순위 기능
1. **WebSocket 실시간 시세** ⭐⭐⭐
   - Rate Limit 문제 해결
   - 저지연 시세 수신 (10-50ms)
   - 노력: 2일

2. **파라미터 최적화 시스템** ⭐⭐⭐
   - 그리드 서치로 최적 파라미터 탐색
   - 코인별 최적 설정 자동 추천
   - 노력: 2일

3. **다중 코인 동시 거래** ⭐⭐
   - PortfolioManager 구현
   - 자금 배분 전략
   - Rate Limit 분배
   - 노력: 3일

### 11.2 Phase 3+ 선택 기능
- 커스텀 전략 빌더 (사용자 정의 조합)
- 웹 대시보드 (Flask 기반)
- AI 기반 진입 타이밍 예측
- 포트폴리오 리밸런싱
- 클라우드 동기화
- 모바일 앱 연동

### 11.3 상세 추가 요구사항
모든 추가 기능에 대한 상세 분석은 `추가_요구사항_분석.md` 문서를 참고하세요.

**포함 내용**:
- 백테스팅 시스템 구현 가이드
- API 키 암호화 상세
- 에러 복구 및 재시작 로직
- 리스크 관리 강화 방안
- 텔레그램 알림 시스템
- 성과 분석 및 통계
- 법적 고지 및 세금 계산
- 사용자 온보딩 및 학습 자료
- Headless 모드 및 VPS 운영
- WebSocket, 파라미터 최적화, 다중 코인 거래
- 설정 마이그레이션, 웹 대시보드

---

## 12. 참고 자료

- Upbit API 문서: https://docs.upbit.com
- PySide6 문서: https://doc.qt.io/qtforpython-6/
- Technical Analysis Library: https://github.com/bukosabino/ta
- 원본 프로그램 역설계 결과: `extracted_strings.txt`

---

**문서 버전**: 2.0 (ultrathink 분석 반영)
**최종 수정**: 2024-01-15
**작성자**: Claude + User

**주요 변경사항 (v2.0)**:
- Phase 1.5 백테스팅 시스템 추가
- 각 Phase에 보안/리스크/알림 기능 추가
- 예상 개발 기간 9-13일 → 17-19일로 조정
- 파일 구조 및 의존성 패키지 업데이트
- `추가_요구사항_분석.md` 문서 생성 (14개 추가 영역 분석)
