# 빠른 테스트 가이드 - Phase 3.8

## ✅ 사전 확인 사항

### 필수 패키지 설치 확인
```bash
pip list | grep -E "PySide6|python-dotenv|websockets|pandas|numpy|PyJWT|requests"
```

**예상 결과**:
```
PySide6            6.x.x
python-dotenv      1.0.0
websockets         12.x
pandas             2.x.x
numpy              1.x.x
PyJWT              2.x.x
requests           2.x.x
```

### 누락된 패키지가 있다면:
```bash
pip install PySide6 python-dotenv websockets pandas numpy PyJWT requests
```

---

## 🚀 Phase 3.8 GUI 통합 테스트

### Step 1: CMD 페이퍼 트레이딩 확인

**현재 실행 중인 CMD 창 확인:**
- 페이퍼 트레이딩이 계속 실행 중인가? ✅
- 에러 없이 정상 작동하는가? ✅

**→ 그대로 두고 계속 진행** (백그라운드 검증)

---

### Step 2: 새 터미널에서 GUI 실행

```bash
cd /mnt/d/claude-project12/upbit_dca_trader
python main.py
```

**기대 결과**:
- GUI 창이 열림
- 초기 로그 2줄 표시:
  ```
  [HH:MM:SS] Upbit DCA Trader GUI 시작
  [HH:MM:SS] 설정 메뉴에서 API 키와 Telegram을 설정하세요
  ```

---

### Step 3: API 설정 확인 (이미 했다면 Skip)

1. 메뉴 > 설정 > ⚙️ 환경 설정
2. Upbit API 탭 → API 키 확인
3. 이미 설정되어 있다면 그대로 "취소"

---

### Step 4: 🎯 핵심 테스트 - Trading Engine 시작

#### 4-1. 시작 버튼 클릭
1. **"▶ 시작"** 버튼 클릭
2. Telegram 미설정 경고 → "예" 클릭 (또는 설정 후 다시 시작)
3. 확인 다이얼로그 → "예" 클릭

#### 4-2. 로그 확인 (중요!)
**즉시 표시되어야 할 로그**:
```
[HH:MM:SS] ==================================================
[HH:MM:SS] 🚀 트레이딩 시작
[HH:MM:SS] ==================================================
[HH:MM:SS] ⚠️ 페이퍼 트레이딩 모드 (Dry Run)
[HH:MM:SS]
[HH:MM:SS] ✅ Trading Engine 시작 완료
```

**5-10초 후 표시되어야 할 로그**:
```
[HH:MM:SS] ✅ 트레이딩 엔진 초기화 완료
[HH:MM:SS]   전략: Bollinger Bands (20, 2.5)
[HH:MM:SS]   리스크 관리: SL=5.0%, TP=10.0%
[HH:MM:SS]   데이터 버퍼: max=200, required=100
[HH:MM:SS]   웹소켓: 1분봉, 10초 간격
[HH:MM:SS]   주문 관리자: Dry Run 모드
[HH:MM:SS]   텔레그램: 활성화 (또는 비활성화)
[HH:MM:SS] 💰 시작 자본: 1,000,000원
[HH:MM:SS] 📊 트레이딩 루프 시작
```

**10-20초 후 실시간 캔들 로그**:
```
[HH:MM:SS] [2025-01-XX HH:MM:SS] 가격: 95,123,000원 | 버퍼: 1/100 | 포지션: 0.00000000
[HH:MM:SS] [2025-01-XX HH:MM:SS] 가격: 95,125,000원 | 버퍼: 2/100 | 포지션: 0.00000000
[HH:MM:SS] [2025-01-XX HH:MM:SS] 가격: 95,120,000원 | 버퍼: 3/100 | 포지션: 0.00000000
```

#### 4-3. UI 상태 확인
- **상태 라벨**: "● 실행 중" (녹색)
- **시작 버튼**: 비활성화 (회색)
- **중지 버튼**: 활성화 (빨간색)
- **상태바**: "트레이딩 실행 중..."

#### 4-4. Telegram 확인 (설정했다면)
Telegram 앱에서 다음 메시지 수신:
```
🚀 트레이딩 시작

심볼: KRW-BTC
전략: Bollinger Bands (20, 2.5)
모드: Dry Run
시작 시각: 2025-01-XX HH:MM:SS
```

---

### Step 5: 실시간 모니터링 (1-2분)

#### 5-1. 로그 자동 스크롤 확인
- 새 로그가 계속 추가됨
- 자동으로 최하단으로 스크롤됨

#### 5-2. 캔들 데이터 수신 확인
- 약 10초마다 새 로그 표시
- 가격, 버퍼 카운트, 포지션 정보 표시

#### 5-3. GUI 응답성 확인 ✅
- 로그 스크롤 가능 (GUI 프리징 없음!)
- 다른 버튼 클릭 가능
- 창 이동/크기 조절 가능

---

### Step 6: 중지 테스트

#### 6-1. 중지 버튼 클릭
1. **"■ 중지"** 버튼 클릭
2. 확인 다이얼로그 → "예" 클릭

#### 6-2. 로그 확인
```
[HH:MM:SS]
[HH:MM:SS] ==================================================
[HH:MM:SS] ■ 트레이딩 중지
[HH:MM:SS] ==================================================
[HH:MM:SS] ⏹️ 트레이딩 엔진 중단
[HH:MM:SS] ✅ Trading Engine 중지 완료
```

#### 6-3. UI 상태 확인
- **상태 라벨**: "● 중지됨" (빨간색)
- **시작 버튼**: 활성화
- **중지 버튼**: 비활성화

#### 6-4. Telegram 확인 (설정했다면)
```
⏸️ 트레이딩 중단

중단 시각: 2025-01-XX HH:MM:SS
최종 자본: 1,000,000원
수익률: +0.00%
```

---

## ✅ 테스트 체크리스트

### 기본 기능 (필수):
- [ ] GUI 정상 실행
- [ ] 시작 버튼 → 로그 표시 시작
- [ ] WebSocket 연결 로그 확인
- [ ] 캔들 데이터 실시간 수신 (10초마다)
- [ ] GUI 응답성 유지 (프리징 없음)
- [ ] 중지 버튼 → 정상 중지
- [ ] UI 상태 정상 복구

### Telegram 통합 (설정 시):
- [ ] 시작 알림 수신
- [ ] 중지 알림 수신

### 고급 기능 (시간 지나면):
- [ ] 매수 신호 발생 시 로그 + Telegram
- [ ] 매도 신호 발생 시 로그 + Telegram
- [ ] 리스크 이벤트 시 로그 + Telegram

---

## 🐛 예상 가능한 문제 & 해결

### 1. "No module named 'PySide6'" 에러
```bash
pip install PySide6
```

### 2. "No module named 'core.trading_engine'" 에러
- 올바른 디렉토리에서 실행했는지 확인
- `cd /mnt/d/claude-project12/upbit_dca_trader`

### 3. WebSocket 연결 실패
- 인터넷 연결 확인
- 방화벽 설정 확인
- 로그에 상세 에러 메시지 표시됨

### 4. GUI 프리징 발생
- **이건 버그입니다!**
- 로그 캡처해서 보고
- 예상: QThread 문제일 가능성

### 5. Telegram 알림 안 옴
- Bot Token, Chat ID 확인
- 설정 > Telegram > 알림 테스트 먼저 시도

---

## 📊 성공 기준

### ✅ 최소 성공 기준:
1. GUI 실행
2. 시작 버튼 → 로그 표시
3. 캔들 데이터 실시간 수신 (최소 10개)
4. 중지 버튼 → 정상 종료
5. GUI 프리징 없음

### 🎉 완벽한 성공:
1. 위 모든 항목
2. Telegram 시작/중지 알림 수신
3. 1시간 이상 안정적 실행
4. 매매 신호 발생 및 로그/알림 확인

---

## 🚨 문제 발생 시

**버그 보고 정보**:
1. 어떤 버튼을 눌렀을 때?
2. 로그에 마지막 메시지는?
3. 에러 메시지 전체 복사
4. GUI 상태 (프리징? 응답없음?)

---

## 📈 다음 계획

### Phase 3.8 테스트 성공 시:

#### 옵션 A: 24시간 안정성 검증
- GUI에서 트레이딩 시작
- 24시간 실행
- 에러 없이 작동하는지 확인

#### 옵션 B: 실시간 상태 업데이트 추가 (Phase 3.9)
- 현재 가격 실시간 표시
- 수익률 실시간 계산
- 포지션 상태 시각화

#### 옵션 C: 차트 통합 (Phase 3.10)
- matplotlib으로 가격 차트
- 볼린저 밴드 시각화
- 매매 포인트 표시

---

## 💡 팁

1. **로그 너무 많이 쌓이면**: "🗑️ 로그 지우기" 버튼
2. **창 크기 조절**: 드래그해서 원하는 크기로
3. **CMD 페이퍼 트레이딩**: 계속 백그라운드 실행 (24시간 검증용)
4. **GUI 테스트**: 언제든지 시작/중지 반복 가능

---

**시작 명령어**:
```bash
cd /mnt/d/claude-project12/upbit_dca_trader
python main.py
```

**Good Luck!** 🚀
